\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{csquotes}
\usepackage{color}
\usepackage{float}
\usepackage{multido}
\usepackage{multirow}
\usepackage{array}
\usepackage{enumerate}
\usepackage{booktabs}
\usepackage{indentfirst}
\usepackage[style=alphabetic,maxcitenames=1]{biblatex}
\usepackage{setspace}
\usepackage{calligra}
\usepackage{subcaption}
\usepackage{textpos}
\usepackage{pgfpages}

\usepackage{amsmath,amsfonts,amssymb,amsthm,mathtools,mathrsfs}


\renewcommand<>{\emph}[1]{{\color{uscCardinal}{\only#2{\itshape}#1}}}

\renewcommand*{\bibfont}{\scriptsize}

% TodoNotes and inline notes in fancy boxes
\usepackage{todonotes}
\usepackage{tcolorbox}

% quiver style
\usepackage{tikz-cd}
% `calc` is necessary to draw curved arrows.
\usetikzlibrary{calc}
% `pathmorphing` is necessary to draw squiggly arrows.
\usetikzlibrary{decorations.pathmorphing}

% A TikZ style for curved arrows of a fixed height, due to Andr√©C.
\tikzset{curve/.style={settings={#1},to path={(\tikztostart)
                    .. controls ($(\tikztostart)!\pv{pos}!(\tikztotarget)!\pv{height}!270:(\tikztotarget)$)
                    and ($(\tikztostart)!1-\pv{pos}!(\tikztotarget)!\pv{height}!270:(\tikztotarget)$)
                    .. (\tikztotarget)\tikztonodes}},
    settings/.code={\tikzset{quiver/.cd,#1}
            \def\pv##1{\pgfkeysvalueof{/tikz/quiver/##1}}},
    quiver/.cd,pos/.initial=0.35,height/.initial=0}

% TikZ arrowhead/tail styles.
\tikzset{tail reversed/.code={\pgfsetarrowsstart{tikzcd to}}}
\tikzset{2tail/.code={\pgfsetarrowsstart{Implies[reversed]}}}
\tikzset{2tail reversed/.code={\pgfsetarrowsstart{Implies}}}
% TikZ arrow styles.
\tikzset{no body/.style={/tikz/dash pattern=on 0 off 1mm}}

% useful macro for class
\newcommand{\at}[3]{\left.#1\right\vert_{#2}^{#3}}
\newcommand\quotient[2]{
    \mathchoice
    {% \displaystyle
        \text{\raise1ex\hbox{$#1$}\Big/\lower1ex\hbox{$#2$}}%
    }
    {% \textstyle
        #1\,/\,#2
    }
    {% \scriptstyle
        #1\,/\,#2
    }
    {% \scriptscriptstyle
        #1\,/\,#2
    }
}

\newcommand{\identity}{\mathrm{id}}
\newcommand{\Homomorphism}{\mathrm{Hom}}
\newcommand{\Morphism}{\mathrm{Mor}}
\newcommand{\Object}{\mathrm{Ob}}
\newcommand{\True}{\textsf{True}}
\newcommand{\T}{\textsf{T}}
\newcommand{\False}{\textsf{False}}
\newcommand{\F}{\textsf{F}}
\newcommand{\act}{\rotatebox[origin=c]{-180}{\(\,\circlearrowright\,\)}}

\usepackage{physics}
\usepackage{complexity}

\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\Int}{Int}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\OPT}{\textsf{OPT}}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator{\Cov}{Cov}

\let\implies\Rightarrow
\let\impliedby\Leftarrow
\let\iff\Leftrightarrow

\usepackage{stmaryrd} % for \lightning
\newcommand\conta{\scalebox{1.1}{\(\lightning\)}}

\usepackage{bm}
\usepackage{bbm}

% figure support
\usepackage{import}
\usepackage{xifthen}
\usepackage{pdfpages}
\usepackage{transparent}
\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \import{./figures/}{#1.pdf_tex}
}

\newtheorem{intuition}{Intuition}
\AtBeginEnvironment{intuition}{%
    \setbeamercolor{block title}{use=example text,fg=white,bg=uscCardinal}
    \setbeamercolor{block body}{parent=normal text,use=block title example,bg=uscCardinal!20!white}
}

\newtheorem{remark}{Remark}
\AtBeginEnvironment{remark}{%
    \setbeamercolor{block title}{use=example text,fg=white,bg=Orchid}
    \setbeamercolor{block body}{parent=normal text,use=block title example,bg=Orchid!20!white}
}

\newtheorem{prev}{As previously seen}
\AtBeginEnvironment{prev}{%
    \setbeamercolor{block title}{use=example text,fg=white,bg=gray}
    \setbeamercolor{block body}{parent=normal text,use=block title example,bg=gray!20!white}
}

\newtheorem{assumption}{Assumption}
\AtBeginEnvironment{assumption}{%
    \setbeamercolor{block title}{use=example text,fg=white,bg=Purple}
    \setbeamercolor{block body}{parent=normal text,use=block title example,bg=Purple!20!white}
}

\newtheorem{observe}{Observe}
\AtBeginEnvironment{observe}{%
    \setbeamercolor{block title}{use=example text,fg=white,bg=Purple}
    \setbeamercolor{block body}{parent=normal text,use=block title example,bg=Purple!20!white}
}

\newtheorem{goal}{Goal}
\AtBeginEnvironment{goal}{%
    \setbeamercolor{block title}{use=example text,fg=white,bg=uscGold}
    \setbeamercolor{block body}{parent=normal text,use=block title example,bg=uscGold!20!white}
}

\makeatletter
\let\@@magyar@captionfix\relax
\makeatother


\addtobeamertemplate{frametitle}{}{
    \begin{textblock*}{100mm}(0.85\textwidth,-1cm)
        \includegraphics[height=1cm]{./figures/logo/logo.png}
    \end{textblock*}}

\definecolor{uscCardinal}{RGB}{153,0,0}
\definecolor{uscGold}{RGB}{255,204,0}
\definecolor{uscWhite}{RGB}{255,255,255}
\definecolor{uscGray30k}{RGB}{204,204,204}
\definecolor{uscGray70k}{RGB}{118,118,118}
\mode<presentation>
{
    \usetheme{Madrid}      % or try Darmstadt, Madrid, Warsaw, ...
    \usecolortheme[named=uscCardinal]{structure} % or try albatross, beaver, crane, ...
    \usefonttheme{default}  % or try serif, structurebold, ...
    \setbeamertemplate{navigation symbols}{}
    \setbeamertemplate{caption}[default]
    \setbeamertemplate{items}[default]
    \setbeamertemplate{section in toc}[ball unnumbered]
    \setbeamercolor{title}{fg=uscGold}
    \setbeamercolor{subtitle}{fg=white}
    \setbeamercolor{institute}{fg=uscGray70k}
    \setbeamercolor{date}{fg=uscGold}
    \setbeamercolor{footline}{fg=white,bg=uscCardinal}
    \setbeamercolor{page number in head/foot}{fg=white,bg=uscCardinal}
    \setbeamercolor{author in head/foot}{fg=white,bg=uscCardinal}
    \setbeamercolor{title in head/foot}{fg=white,bg=uscCardinal}
    \setbeamercolor{date in head/foot}{fg=white,bg=uscCardinal}
}
\let\oldfootnote\footnote
\renewcommand\footnote[1][]{\oldfootnote[frame,#1]}
\parskip=10pt
\newenvironment<>{proofs}[1][\proofname]{%
    \par
    \def\insertproofname{#1.}%
    \usebeamertemplate{proof begin}#2}
{\usebeamertemplate{proof end}}
\makeatother

% logo of my university
\titlegraphic{\includegraphics[height=1.3cm]{./figures/logo/logo2.png}}
